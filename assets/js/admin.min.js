jQuery(document).ready(function(a){if(a("body.wp-customizer").length>0||a("body.widgets-php").length>0){var b=function(){a(".form-container .posts").each(function(){a(this).sortable()})};a(document).on("click",function(){b()})}a(document).on("sortstop",".form-container .posts",function(b,c){a(this).parent(".form-container").find(".force-change").val(Math.random()).trigger("change")}),a(document).on("click",".widget-content .add-new-row",function(b){b.preventDefault();var c=a(a(this).attr("href")).html();a(this).parent(".form-container").children(".posts").append(c),a(".form-container .posts").each(function(){a(this).sortable()})}),a(document).on("keyup",".widget-content .post-search",function(b){var c=a(this),d=c.parent("p").children(".posts-search-list"),e="";d.html("Buscando posts..."),a.ajax({url:wpApiSettings.root+"wp/v2/posts",method:"GET",beforeSend:function(a){a.setRequestHeader("X-WP-Nonce",wpApiSettings.nonce)},data:{search:c.val()}}).done(function(a){a.forEach(function(a){e=e+'<a class="select-post" href="#'+a.id+'">'+a.title.rendered+"</a><br>"}),d.html(e)})}),a(document).on("click",".widget-content .select-post",function(b){b.preventDefault();var c=a(this),d=c.parent("span").parent("p").find(".post-search"),e=c.parent("span").parent("p").parent(".each-repeater").find(".post-title");d.val(a(this).attr("href").replace("#","")),e.val(c.html()),c.parent("span").html("")}),a(document).on("click",".each-repeater",function(b){a(b.target).is("a")||a(this).hasClass("open")||a(this).addClass("open")}),a(document).on("click",".each-repeater .close-row",function(b){b.preventDefault(),a(this).parent("p").parent(".each-repeater").removeClass("open")}),a(document).on("click",".each-repeater .remove-row",function(b){b.preventDefault(),a(this).parent("p").parent(".each-repeater").fadeOut(2e3).remove(),a(".widget.open .form-container .force-change").val(Math.random()).trigger("change")})});